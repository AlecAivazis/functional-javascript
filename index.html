<html><head><link rel="stylesheet" href="static/styles/reveal.css"/><link rel="stylesheet" href="static/lib/plugin/prism/prism.css"/><link rel="stylesheet" href="static/lib/plugin/prism/theme.css"/><link rel="stylesheet" href="static/styles/theme/black.css"/><link rel="stylesheet" href="static/styles/font-awesome.min.css"/><link rel="stylesheet" href="static/styles/custom.css"/></head><body><div class="reveal"><div class="slides"><section><h2>Functional JavaScript</h2><h3>Building Modern User Interfaces</h3><br/><br/><a href="http://alecaivazis.github.io/functional-javascript/#/">alecaivazis.github.io/functional-javascript</a></section><section><h2>Alec Aivazis</h2><img class="ds_logo" src="static/images/ds_logo.svg"/><br/><a href="http://alec.aivazis.com">alec.aivazis.com</a><br/><a href="http://github.com/AlecAivazis">github.com/AlecAivazis</a></section><section><h2 style="margin-bottom: 20px"> roadmap</h2><ul><li class="fragment roadmapItem">Basic modern javascript (es6) syntax</li><li class="fragment roadmapItem">Functional JavaScript</li><li class="fragment roadmapItem">Quick intro to functional React</li></ul></section><section><section><h2>Syntax</h2></section><section><img src="static/images/es6.jpg"/></section><section style="display: flex"><h3>Variable Declaration</h3><div class="row"><pre class="flat"><code>// hoisted, functionally scoped
var asdf = 'asdf'</code></pre></div><div class="row fragment" data-fragment-index="1"><pre class="flat"><code>// cannot be re-declared, block scoped
let foo = 'bar'
// cannot be changed (sometimes), block scoped
const bar = 'baz'</code></pre></div></section><section><h3>Better Mental Model</h3><pre><code>// cannot be re-declared
let foo = 'bar'
// cannot be changed (sometimes)
const bar = 'baz'
</code></pre></section><section><h3>Functions</h3><div><div class="row"><div class="column"><pre style="padding-right: 0"><code class="javascript">// does this act like a var, let,
// or const?
function myFunc(name) {
    return 'Hello ' + name
}</code></pre></div><div class="column fragment" data-fragment-index="1"><pre style="width: 95%"><code class="javascript" data-noescape="data-noescape">// now we can decide!
const myNewFunc = (name) => (
    'Hello ' + name
)

// sometimes implicit returns are bad
const myNewestFunc = (name) => {
    return 'Hello ' + name
}</code></pre></div></div></div></section><section><h3>destructuring</h3><div class="row"><div class="column"><pre><code class="javascript">var data = {'key': 'bar'}
// grab the key entry
var key = data.key
</code></pre><pre class="fragment" data-fragment-index="1"><code class="javascript">function myFunc(args) {
    console.log(args.foo)
}
myFunc({foo: 'bar'})
</code></pre></div><div class="column fragment" data-fragment-index="2"><pre><code class="javascript">const data = {'key': 'bar'}
// grab the key entry
const {key} = data
</code></pre><pre><code class="javascript">function myFunc({foo}) {
    console.log(foo)
}
myFunc({foo: 'bar'})
</code></pre></div></div></section><section><h3>spread</h3><div class="row"><div class="column" style="padding-top: 50px"><pre class="flat"><code class="javascript">var mockData = {
    foo: 'bar',
}</code></pre><pre class="flat fragment" data-fragment-index="1"><code>var newObject = Object.assign({},
    mockData,
    {
        'bar': 'baz'
    }
)</code></pre></div><div class="column fragment" data-fragment-index="2"><pre><code class="javascript">const mockData = {
    foo: 'bar',
}

const newObj = {
    ...mockData,
    'bar': 'baz',
}</code></pre></div></div></section></section><section><section><h2>Functional Programming</h2><h2>in</h2><h2>JavaScript</h2></section><section><h3>The Function Object</h3><pre><code class="javascript">const myFunction = () => 'hello world'

console.log(myFunction)
</code></pre></section><section><h3>combinators</h3></section><section><h3>map</h3><p class="example fragment" data-fragment-index="1">[1,2,3]<i class="fa fa-long-arrow-right"></i>[1,4,9]</p></section><section>In the imperative world...<pre style="max-height: none; font-size: 20px; margin-bottom: 10px"><code style="max-height: none">// we want to square each number in this list
const numbers = [1,2,3]

// we'll collect the results in this list
const results = []

// visit each element in the array
for (const i = 0 ; i < numbers.length ; i ++) {
    // grab the i'th entry
    const entry = numbers[i]
    // add the square to the list
    result.append(entry * entry)
}

// results == [1, 4, 9]</code></pre></section><section>With our fancy new combinator<pre><code class="javascript">// we want to square each number in this list
const numbers = [1,2,3]
// square each number in a single line!
const results = numbers.map(entry => entry * entry)

// results == [1, 4, 9]
</code></pre></section><section><h3>filter</h3><p class="example fragment" data-fragment-index="1">[1,2,3,4]<i class="fa fa-long-arrow-right"></i>[2,4]</p></section><section>Then<pre style="max-height: none; font-size: 20px; margin-bottom: 10px"><code style="max-height: none">// we want to grab every even number in this list
const numbers = [1,2,3,4,5,6]
// collect results here
const results = []

// go over every number
for (const i = 0 ; i < numbers.length ; i ++) {
    // grab the i'th number
    const number = numbers[i]
    // if the number is even
    if (number % 2 == 0) {
        // add it to the list
        results.append(number)
    }
}

// results == [2, 4, 6]

</code></pre></section><section>Now<pre><code class="javascript">// we want to grab every even number in this list
const numbers = [1,2,3,4,5,6]

// collect results here
const results = numbers.filter(entry => entry % 2 == 0)

// results == [2, 4, 6]
</code></pre></section><section><h3>reduce</h3><p class="example fragment" data-fragment-index="1">[1,2,3]<i class="fa fa-long-arrow-right"></i>6</p></section><section>The imperative way<pre style="max-height: none; font-size: 20px; margin-bottom: 10px"><code style="max-height: none">// now we want to add each number in the list
const numbers = [1,2,3]

// start off at zero
const total = 0

// visit every item
for (const i = 0 ; i < numbers.length ; i ++) {
    // grab the i'th number
    const number = numbers[i]
    // add the number to the running total
    total += number
}

// total == 6</code></pre></section><section>Using reduce,<pre><code class="javascript">// the numbers to sum up
const numbers = [1,2,3]

// combine them in a single line
const total = numbers.reduce((sum, entry) => sum + entry, 0)

// total == 6</code></pre></section></section><section><section><h2>building web interfaces</h2></section><section><h2>HTML</h2><pre><code>&lt;div&gt;
    &lt;button id="button"&gt;
        hello
    &lt;/button&gt;
&lt;/div&gt;
</code></pre></section><section><h2>jQuery</h2><div class="row"><div class="column"><pre><code>&lt;div&gt;
    &lt;button id="button"&gt;
        hello
    &lt;/button&gt;
&lt;/div&gt;</code></pre></div><div class="column"><pre><code>$("#button").on('click', (event) => {
    this.style('color', 'red')
})

</code></pre></div></div></section><section><span style="display: flex; align-items: center; justify-content: center; font-size: 80px"><img class="ds_logo" src="static/images/react.svg" style="margin-right: 25px"/>React</span><aside class="notes">Now that we've covered the functional basics, let's build some UIs.<br/>Used to be imperative<br/>Now is functional</aside></section><section><div class="row illustration"><img style="height: 25%" src="static/images/html-logo.png"/><i class="fa fa-long-arrow-right" style="color: white; font-size: 94px; margin-left: 45px">&nbsp;</i><img style="height: 45%" src="static/images/js-logo.png"/></div><aside class="notes">React's entire philosophy is based around making javascript the single tool in the
web developer's toolkit.</aside></section><section><div class="row"><div class="column"><pre class="flat" style="max-height: none; font-size: 20px; margin-bottom: 10px"><code style="max-height: none">&lt;div&gt;
    &lt;div class="navigation"&gt;
        &lt;ul&gt;
            &lt;li&gt; nav1 &lt;/li&gt;
            &lt;li&gt; nav2 &lt;/li&gt;
            &lt;li&gt; nav3 &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class="content"&gt;
    &lt;/div&gt;
    &lt;div class="footer"&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;script src="app.js"&gt;
</code></pre></div><div class="column fragment current-visible" data-fragment-index="1" style="justify-content: center"><pre class="flat" style="display: flex; max-height: none; font-size: 20px; margin-bottom: 10px"><code style="max-height: none">&lt;div&gt;
    &lt;Navigation&gt;
    &lt;Content&gt;
    &lt;Footer&gt;
&lt;/div&gt;
</code></pre></div></div></section><section><h3>More syntax!</h3><aside class="notes">In order to do that, we first have to cover some more syntax</aside></section><section><pre class="flat fragment current-visible" data-fragment-index="2"><code>import React from 'react'
import ReactDom from 'react-dom'</code></pre><pre class="flat"><code>const MyElement = () => (
    &lt;div&gt;
        hello world!
    &lt;/div&gt;
)</code></pre><span style="display:flex; margin-top: 32px"><pre class="flat fragment current-visible" data-fragment-index="1"><code>// rendered with &lt;MyElement /&gt;</code></pre></span><span style="display:flex; margin-top: -31px"><pre class="flat fragment current-visible" data-fragment-index="2"><code>// render over a specific element
ReactDom.render(&lt;MyElement /&gt, document.getElementById('app'))</code></pre></span><span style="display:flex; margin-top: -61px"><pre class="flat fragment" data-fragment-index="3"><code>// rendered with &lt;MyElement /&gt;</code></pre></span><aside class="notes"><ol><li>mention jsx as an extension of javascript adding syntactic sugar</li><li>this makes rendering our custom elements feel very natural alongside the standard html one</li><li>in order to actually render our component tree, we have to do so over a single element</li></ol></aside></section><section><h3>inline expressions</h3><pre><code>const name = "John"

const MyElement = () => (
    &lt;div&gt;
        Hello {name}!
    &lt;/div&gt;
)

// rendered with &lt;MyElement /&gt;</code></pre><aside class="notes">in order for the compiler to know that an expression should be evaluated as javascript,
you have to wrap it in curly braces.</aside></section><section><h3>passing data</h3><pre><code>const MyElement = ({name}) => (
    &lt;div&gt;
        Hello {name}!
    &lt;/div&gt;
)

// rendered with &lt;MyElement name="John"/&gt;


</code></pre></section><section data-background-image="http://i.giphy.com/10fdsa6b79iBDq.gif"><aside class="notes">I mean, not only does it make it pretty easy to reason about your interface as pure elements
But because everything is pure, there's no need for extreme unit testing and shooting for
100% coverage. You only really need to worry about how your data source changes and
the components with complicated display logic.<br/>However, it gets even cooler when we start mixing in our functional combinators</aside></section><section><h3>using map in jsx</h3><pre class="flat"><code>// &lt;MyElement numbers={[1,2,3]} /&gt;</code></pre><br/><pre class="flat fragment current-visible" data-fragment-index="1"><code>const NumberList = (numbers) =&gt; (
    &lt;ul&gt;
        { numbers.map(number =&gt; (
            &lt;li&gt;
                {number}
            &lt;/li&gt;
        ))}
    &lt;/ul&gt;
)</code></pre><aside class="notes"><ol><li>Let's consider the example where I want to take a list of numbers and show an html list
composed of ul and li elements with each entry as the square of the numbers in this list</li><li>This is easily accomplished using an inline map over the numbers prop. But our functional
tools don't stop becoming useful after mapping over lists</li></ol></aside></section><section><h3>putting it all together</h3></section><section><pre class="flat" style="max-height: none; font-size: 20px; margin-bottom: 10px"><code style="max-height: none">const itemsInCart = [{name: 'Steak', price: 25.75}, ...]</code></pre><pre class="flat fragment" style="max-height: none; font-size: 20px; margin-bottom: 10px" data-fragment-index="1"><code style="max-height: none">// the root shopping cart component
const ShoppingCart = (items) =&gt; {
    // figure out the total cost of all the recipes
    const totalCost = items.reduce((sum, {price}) => sum + price, 0)
    // render the component
    return (
        &lt;div&gt;
            {items.map(cartItem =&gt; (
                &lt;ShoppingCartItem {...cartItem}/&gt;
            ))}
            &lt;div&gt;
                Total cost: {totalCost}
            &lt;/div&gt;
        &lt;/div&gt;
    )
}

// rendered with &lt;ShoppingCart items={itemsInCart} /&gt;
</code></pre></section><section><pre style="max-height: none; font-size: 20px; margin-bottom: 10px"><code>const itemsInCart = [{name: 'Steak', price: 25.75}, ...]

// ...
const totalCost = items.reduce((sum, {price}) => sum + price, 0)

// ...
&lt;div&gt;
    {totalCost}
&lt;/div&gt;
</code></pre></section><section><pre style="max-height: none; font-size: 20px; margin-bottom: 10px"><code>const itemsInCart = [{name: 'Steak', price: 25.75}, ...]

// ...
{items.map(cartItem =&gt; (
    &lt;ShoppingCartItem {...cartItem}/&gt;
))}</code></pre><pre class="flat fragment" data-fragment-index="1"><code>// ...
const ShoppingCartItem = ({name, date}) => (
    &lt;div&gt;
        &lt;div&gt; {name} &lt;/div&gt;
        &lt;div&gt; {date} &lt;/div&gt;
    &lt;/div&gt;
)</code></pre></section></section><section>Thanks!</section></div></div><script src="static/lib/js/head.min.js"></script><script src="static/scripts/reveal.js"></script><script src="static/scripts/init.js"></script></body></html>